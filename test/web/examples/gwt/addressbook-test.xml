<project name="gwt-addressbook-test" default="test-all">

	<property file="../../../../build.properties" />
	<property name="build.metawidget.dir" value="${build.dir}/metawidget-${metawidget.version}"/>

	<import file="${webtest.dir}/lib/taskdef.xml" />

	<!-- WebTest is not up to testing GWT yet. This just tests Bundle2VariableTag -->
	<!-- We do the rest of our unit testing in GwtAddressBookTest.java            -->
	
	<target name="test-all">
		<webtest name="test-all">
			<config resultpath="${build.metawidget.dir}">
				<header name="User-Agent" value="Mozilla/4.0"/>
			</config>
			<steps>
				<enableJavaScript enable="false"/>
				<invoke url="${webtest.url}/addressbook-gwt" />
				<verifyTitle text="Address Book (Metawidget GWT Example)" />
				
				<verifyContent referenceFile="../../../../examples/java/org/metawidget/example/gwt/addressbook/public/index.html" />
			</steps>
		</webtest>
	</target>

</project>
