<project name="metawidget-seam-booking" default="build">

	<!-- Properties -->
		
	<property file="build.properties"/>
	
	<!-- Clean -->
	
	<target name="clean">
		<delete dir="${seam.dir}/examples/metawidget-booking"/>
	</target>

	<!-- Build -->

	<target name="build">

		<!-- Copy the original Seam booking example -->
		
		<copy todir="${seam.dir}/examples/metawidget-booking">
			<fileset dir="${seam.dir}/examples/booking"/>
		</copy>
		
		<!-- Replace some files with Metawidget versions -->

		<copy todir="${seam.dir}/examples/metawidget-booking" overwrite="true">
			<fileset dir=".">
				<include name="resources/**"/>
				<include name="src/**"/>
				<include name="view/**"/>
			</fileset>
		</copy>

    	<copy todir="${seam.dir}/examples/metawidget-booking/exploded-archives/jboss-seam-booking.ear/lib">
    		<fileset dir=".">
    			<include name="metawidget-backend.jar"/>
    		</fileset>
		</copy>

    	<copy todir="${seam.dir}/examples/metawidget-booking/exploded-archives/jboss-seam-booking.war/WEB-INF/lib" file="metawidget-frontend.jar" />

		<copy todir="${seam.dir}/lib">
    		<fileset dir=".">
    			<include name="metawidget-*.jar"/>
    		</fileset>
		</copy>
		
		<ant dir="${seam.dir}/examples/metawidget-booking" inheritall="false"/>
		
	</target>

</project>
