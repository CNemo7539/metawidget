<project name="metawidget-seam-dvdstore" default="build">

	<!-- Properties -->
		
	<property file="build.properties"/>
	
	<!-- Clean -->
	
	<target name="clean">
		<delete dir="${seam.dir}/examples/metawidget-dvdstore"/>
	</target>

	<!-- Build -->

	<target name="build">

		<!-- Copy the original Seam dvdstore example -->
		
		<copy todir="${seam.dir}/examples/metawidget-dvdstore">
			<fileset dir="${seam.dir}/examples/dvdstore"/>
		</copy>
		
		<!-- Replace some files with Metawidget versions -->

		<copy todir="${seam.dir}/examples/metawidget-dvdstore" overwrite="true">
			<fileset dir=".">
				<include name="resources/**"/>
				<include name="src/**"/>
				<include name="view/**"/>
			</fileset>
		</copy>

    	<copy todir="${seam.dir}/examples/metawidget-dvdstore/exploded-archives/jboss-seam-dvd.ear/lib">
    		<fileset dir=".">
    			<include name="metawidget-backend.jar"/>
    		</fileset>
		</copy>

    	<copy todir="${seam.dir}/examples/metawidget-dvdstore/exploded-archives/jboss-seam-dvd.war/WEB-INF/lib" file="metawidget-frontend.jar" />

		<copy todir="${seam.dir}/lib">
    		<fileset dir="../../../../">
    			<include name="metawidget.jar"/>
    		</fileset>
		</copy>
		
		<ant dir="${seam.dir}/examples/metawidget-dvdstore" inheritall="false"/>
		
	</target>

</project>
