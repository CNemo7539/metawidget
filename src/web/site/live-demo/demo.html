<%@ page language="java" %>
<%@ taglib tagdir="/WEB-INF/tags" prefix="tags"%>

<tags:page title="Live Demo">

	<tags:body>

		<h2>Groovy Console with a Swing-based Metawidget</h2>
		
		<p>
			Play with Metawidget by:
		</p>
		
		<ul>
			<li>running the script (click the <img src="../media/groovy-run.gif" alt=""/> button)</li>
			<li>changing the business model by adding fields, altering annotations etc.</li>
			<li>using <strong>Script > Add Jar to Classpath</strong> to import your own business objects and see how they render</li>
		</ul>
		
		<p>
			Applet not working for you (note it may take a few minutes to load initially)? Please <a href="mailto:support@metawidget.org">let us know</a>!
		</p>
		
		<div style="border: 1px solid #cccccc; margin-bottom: 20px">
			<applet archive="metawidget.jar, groovy-all-1.6-beta-2.jar, hibernate-validator.jar, ejb3-persistence.jar, console-applet.jar" code="org.metawidget.example.swing.console.GroovyConsoleApplet" width="100%" height="600">
				<param name="codebase_lookup" value="false"/>
				<param name="java_arguments" value="-Djnlp.packEnabled=true"/>
				<param name="script" value="import javax.swing.*; import javax.persistence.*; import org.hibernate.validator.*;\nimport org.metawidget.inspector.annotation.*; import org.metawidget.inspector.composite.*;\nimport org.metawidget.inspector.hibernate.validator.*; import org.metawidget.inspector.impl.*;\nimport org.metawidget.inspector.impl.propertystyle.groovy.*; import org.metawidget.inspector.java5.*;\nimport org.metawidget.inspector.jpa.*; import org.metawidget.inspector.propertytype.*;\nimport org.metawidget.swing.*; import org.metawidget.swing.layout.*;\n\n// Groovy/JPA/Hibernate Validator Business Model (many other back-end architectures also supported)\n\nenum Title { Mr, Mrs, Miss }\n\nclass Person {\n\t@Id\n\tString id;\n\n\t@NotNull\n\tTitle title;\n\n\t@UiComesAfter(&quot;title&quot;)\n\tString firstname;\n\n\t@Column(nullable=false) @UiComesAfter(&quot;firstname&quot;)\n\tString surname;\n\n\t@UiComesAfter(&quot;surname&quot;) @Min(0l) @Max(100l)\n\tint age;\n\n\t@UiComesAfter(&quot;age&quot;)\n\tboolean retired;\n\n\t@UiSection(&quot;Address&quot;) @UiLabel(&quot;&quot;) @UiComesAfter(&quot;retired&quot;)\n\tAddress address = new Address();\n\n\t@Lob @UiComesAfter(&quot;address&quot;) @UiSection(&quot;Other&quot;)\n\tString notes;\n}\n\nclass Address {\n\tString street;\n\n\t@UiComesAfter(&quot;street&quot;)\n\tString city;\n\n\t@UiLookup([&quot;Anytown&quot;,&quot;Cyberton&quot;,&quot;Lostville&quot;,&quot;Whereverton&quot;]) @UiComesAfter(&quot;city&quot;)\n\tString state;\n\n\t@UiComesAfter(&quot;state&quot;)\n\tString postcode;\n}\n\n// Inspectors for Business Model (can alternatively be configured via an inspector-config.xml)\n\nBaseObjectInspectorConfig groovyConfig = new BaseObjectInspectorConfig();\ngroovyConfig.setPropertyStyle( GroovyPropertyStyle.class );\nJpaInspectorConfig jpaConfig = new JpaInspectorConfig();\njpaConfig.setPropertyStyle( GroovyPropertyStyle.class );\nCompositeInspectorConfig compositeConfig = new CompositeInspectorConfig();\ncompositeConfig.setInspectors(\n\tnew MetawidgetAnnotationInspector( groovyConfig ),\n\tnew PropertyTypeInspector( groovyConfig ),\n\tnew HibernateValidatorInspector( groovyConfig ),\n\tnew Java5Inspector( groovyConfig ),\n\tnew JpaInspector( jpaConfig ) );\n\n// Metawidget for Swing (many other front-end frameworks also supported)\n\nSwingMetawidget metawidget = new SwingMetawidget();\nmetawidget.setInspector( new CompositeInspector( compositeConfig ));\nmetawidget.setToInspect( new Person() );\nmetawidget.setParameter( &quot;sectionStyle&quot;, TableGridBagLayout.SECTION_AS_TAB );\n\n// Simple UI around the Metawidget (Metawidget does not try to 'own' the entire UI)\n\nJDialog dialog = new JDialog( SwingUtilities.getSharedOwnerFrame(), &quot;Metawidget Live Demo&quot;, true );\ndialog.add( metawidget );\nmetawidget.setBorder( BorderFactory.createEmptyBorder( 5, 5, 5, 5 ));\ndialog.pack();\ndialog.show();"/>
			</applet>
		</div>

		<h2>Like what you see?</h2>
		
		<p>
			Then <a href="${context}/download.html">download the full distribution</a> which includes:
		</p>
		
		<ul>
			<li>extensive documentation (including step-by-step tutorials)</li>
			<li>pluggable layouts</li>
			<li>multiple inspectors</li>
			<li>data binding</li>
			<li>Web-based and mobile-based Metawidgets</li>
			<li>...and much more!</li>
		</ul>
		
	</tags:body>

</tags:page>
