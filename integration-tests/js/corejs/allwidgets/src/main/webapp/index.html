<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html ng-app="allWidgets">
	<head>
		<meta charset="utf-8"/>
		<title>All Widgets (Metawidget CoreJS Test)</title>
		<script src="lib/metawidget/core/metawidget.js" type="text/javascript"></script>
		<script src="lib/metawidget/core/metawidget-inspectors.js" type="text/javascript"></script>
		<script src="lib/metawidget/core/metawidget-widgetbuilders.js" type="text/javascript"></script>
		<script src="lib/metawidget/core/metawidget-widgetprocessors.js" type="text/javascript"></script>
		<script src="lib/metawidget/core/metawidget-layouts.js" type="text/javascript"></script>
		<script src="lib/metawidget/core/metawidget-utils.js" type="text/javascript"></script>
		<script src="js/allwidgets.js" type="text/javascript"></script>
	</head>
	<body>
	
		<script type="text/javascript">
			var allWidgets = {
				"nestedWidgets": {
					"nestedTextbox1": "foo"
				},
				"readOnly": "Read Only Value"
			};			
			var mw = new metawidget.Metawidget( {
	
				inspector: new metawidget.inspector.CompositeInspector( [ function( toInspect, type ) {
	
					switch ( type ) {
						case 'allWidgets':
							return metawidget.test.allWidgets;
						case 'allWidgets.nestedWidgets':
							return [ {
								"name": "nestedTextbox1"
							}, {
								"name": "nestedTextbox2"
							} ];
					}					
				}, new metawidget.inspector.PropertyTypeInspector() ] )
			} );
	
			mw.toInspect = allWidgets;
			mw.path = 'allWidgets';
			document.write( mw.buildWidgets().innerHTML );
		</script>
	
	</body>
</html>
